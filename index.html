<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Triathlon Tracker</title>
    <style>
        :root { --blue: #2563eb; --green: #10b981; --bg: #f8fafc; --text: #1e293b; }
        body { font-family: -apple-system, sans-serif; background: var(--bg); color: var(--text); margin: 0; display: flex; flex-direction: column; align-items: center; }
        header { background: var(--blue); color: white; width: 100%; text-align: center; padding: 20px 0; position: sticky; top: 0; }
        .nav-container { display: flex; align-items: center; justify-content: space-between; width: 90%; max-width: 400px; margin: 20px 0; }
        .nav-btn { background: var(--blue); color: white; border: none; border-radius: 50%; width: 45px; height: 45px; font-size: 1.5rem; cursor: pointer; }
        .card { background: white; width: 90%; max-width: 400px; padding: 20px; border-radius: 15px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); box-sizing: border-box; }
        .workout-box { border-left: 4px solid var(--blue); padding-left: 15px; margin: 15px 0; }
        .label { font-weight: bold; color: var(--blue); font-size: 0.8rem; text-transform: uppercase; }
        textarea { width: 100%; height: 100px; margin-top: 20px; border: 1px solid #cbd5e1; border-radius: 10px; padding: 12px; box-sizing: border-box; font-size: 1rem; }
        .submit-btn { width: 100%; background: var(--green); color: white; border: none; border-radius: 10px; padding: 15px; margin-top: 10px; font-weight: bold; font-size: 1rem; cursor: pointer; }
        .submit-btn:active { transform: scale(0.98); opacity: 0.9; }
        .key-terms { font-size: 0.8rem; color: #64748b; margin: 20px 0; width: 90%; max-width: 400px; text-align: center; }
    </style>
</head>
<body>

<header>
    <h2 id="dayLabel" style="margin: 0;">Day 1 of 70</h2>
    <div id="displayDate" style="font-size: 0.9rem; opacity: 0.9;">Feb 16, 2026</div>
</header>

<div class="nav-container">
    <button class="nav-btn" onclick="moveDay(-1)">←</button>
    <div style="font-weight: bold;">Toggle Days</div>
    <button class="nav-btn" onclick="moveDay(1)">→</button>
</div>

<div class="card">
    <div id="workoutContent"></div>
    <textarea id="dailyNote" placeholder="How was the workout? Log your stats or feelings here..."></textarea>
    <button class="submit-btn" onclick="manualSave()">SUBMIT / SAVE NOTE</button>
</div>

<div class="key-terms">
    <strong>Key:</strong> Brick (Direct transition) | 3H/2E (3m Hard/2m Easy) | 2F/1J (2m Fast/1m Jog) [cite: 7, 8]
</div>

<script>
    const startDate = new Date("2026-02-16T00:00:00");
    let viewDate = new Date();
    viewDate.setHours(0,0,0,0);

    const schedule = {
        1: { L: "Legs", PM: "30m Run (Easy)" },
        2: { L: "Upper Body", PM: "None" },
        3: { L: "Core/Mobility", PM: "45m Bike (Easy)" },
        4: { L: "Mobility", PM: "None" },
        5: { L: "Power/Plyo", PM: "30m Run (Easy)" },
        6: { AM: "700m Swim (Pace) + 50m Bike (Steady)" },
        7: { AM: "8x50m Swim Sprints + 35m Run (Easy)" }
    };

    function updateDisplay() {
        const diffTime = viewDate - startDate;
        const dayNum = Math.floor(diffTime / (1000 * 60 * 60 * 24)) + 1;
        
        document.getElementById('dayLabel').innerText = `Day ${dayNum} of 70`;
        document.getElementById('displayDate').innerText = viewDate.toDateString();
        
        const cycleDay = ((dayNum - 1) % 7) + 1;
        const todayWork = schedule[cycleDay] || { L: "Rest", PM: "Rest" };
        
        let html = "";
        if(todayWork.AM) html += `<div class="workout-box"><div class="label">Weekend AM</div>${todayWork.AM}</div>`;
        if(todayWork.L) html += `<div class="workout-box"><div class="label">Lunch Strength</div>${todayWork.L}</div>`;
        if(todayWork.PM) html += `<div class="workout-box"><div class="label">Afternoon Cardio</div>${todayWork.PM}</div>`;
        
        document.getElementById('workoutContent').innerHTML = html;
        document.getElementById('dailyNote').value = localStorage.getItem('note-' + dayNum) || "";
    }

    function moveDay(step) {
        viewDate.setDate(viewDate.getDate() + step);
        updateDisplay();
    }

    function manualSave() {
        const diffTime = viewDate - startDate;
        const dayNum = Math.floor(diffTime / (1000 * 60 * 60 * 24)) + 1;
        const note = document.getElementById('dailyNote').value;
        localStorage.setItem('note-' + dayNum, note);
        alert("Note Saved for Day " + dayNum + "!");
    }

    updateDisplay();
</script>

</body>
</html>
